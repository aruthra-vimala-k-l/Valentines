<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>It's Official!</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>

/* RESET */
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    height:100vh;
    overflow:hidden;
    font-family:'Great Vibes', cursive;

    background:url('bg/bg0.jpg') center/cover no-repeat;

    position:relative;
}

/* ================= MUSIC ICON (TOP RIGHT) ================= */

.music-control{
    position:fixed;
    top:25px;
    right:25px;
    width:55px;
    cursor:pointer;
    z-index:999;
    transition:transform .2s ease;
    filter:drop-shadow(2px 2px 4px rgba(0,0,0,.3));
}

.music-control:hover{
    transform:scale(1.1);
}

/* ================= MAIN CENTER CONTENT ================= */

.center-container{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
}

/* TEDDY GIF */
.teddy{
    width:260px;
    display:block;
    margin:auto;
    filter:drop-shadow(0 5px 8px rgba(0,0,0,.2));
}

/* TITLE TEXT */
.main-text{
    margin-top:15px;
    font-size:3.8rem;
    color:black;

    text-shadow:3px 3px 0 #eee;
    transform:rotate(-3deg);
    display:inline-block;
}

/* SUB TEXT */
.sub-text{
    margin-top:8px;
    font-size:2rem;
}

/* ================= DOWNLOAD AREA ================= */

.download-area{
    margin-top:30px;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:15px;
}

.arrow{
    width:40px;
    bottom:30px;
    right:30px;
    cursor:pointer;
    z-index:999;
    animation:arrowMove 1s infinite ease-in-out;
}

.download-link{
    font-size:1.6rem;
    color:#d63031;
    text-decoration:underline;
    font-weight:bold;
    cursor:pointer;
}

.download-link:hover{
    color:#ff7675;
}

/* ================= ENVELOPE ICON ================= */

.envelope{
    position:fixed;
    bottom:30px;
    right:30px;
    width:85px;
    cursor:pointer;
    animation:envelopePulse 2s infinite ease-in-out;
    z-index:999;
}

.envelope:hover{
    animation:none;
    transform:scale(1.2);
}

/* ================= ANIMATIONS ================= */

@keyframes arrowMove{
    0%{transform:translateX(0) rotate(-10deg);}
    50%{transform:translateX(-8px) rotate(-10deg);}
    100%{transform:translateX(0) rotate(-10deg);}
}

@keyframes envelopePulse{
    0%{transform:scale(1); opacity:1;}
    50%{transform:scale(1.15); opacity:.8;}
    100%{transform:scale(1); opacity:1;}
}

/* ================= MOBILE ================= */

@media(max-width:650px){

    .teddy{
        width:180px;
    }

    .main-text{
        font-size:2.6rem;
    }

    .sub-text{
        font-size:1.4rem;
    }

    .arrow{
        width:30px;
    }

    .download-link{
        font-size:1.2rem;
    }

    .music-control{
        width:45px;
    }

    .envelope{
        width:65px;
    }
}

</style>
</head>

<body>

<!-- AUDIO -->
<audio id="bg-music" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<!-- MUSIC BUTTON -->
<img src="image/mute.png" id="music-btn" class="music-control" onclick="toggleMusic()">

<!-- CENTER CONTENT -->
<div class="center-container">

    <h1 class="main-text">Yayyyyyy!!</h1>
    <div class="sub-text">This cute guy is my Valentine!!! &lt;3</div>

    <img src="image/teddy.gif" class="teddy">

    <div class="download-area">
        <a href="confirm.html" class="download-link">
            Download your confirmation copy
        </a>
    </div>

</div>

<!-- ENVELOPE -->
            <img src="image/arrow.png" class="arrow">
<a href="terms.html">
    <img src="image/envelope.png" class="envelope">
</a>

<script>

const music = document.getElementById("bg-music");
const musicBtn = document.getElementById("music-btn");

let isPlaying = false;

/*
LOGIC (As YOU requested):

Audio Playing  → Show UNMUTE icon
Audio Muted    → Show MUTE icon
*/

function toggleMusic(){

    if(isPlaying){
        music.pause();
        musicBtn.src = "image/mute.png";   // muted → show mute icon
        isPlaying = false;
    }else{
        music.play();
        musicBtn.src = "image/unmute.png"; // playing → show unmute icon
        isPlaying = true;
    }
}

/* Try autoplay */
window.addEventListener("load",()=>{

    music.play().then(()=>{
        isPlaying = true;
        musicBtn.src = "image/unmute.png";
    }).catch(()=>{
        console.log("Autoplay blocked — user interaction needed.");
        musicBtn.src = "image/mute.png";
    });

});

</script>

</body>
</html>
